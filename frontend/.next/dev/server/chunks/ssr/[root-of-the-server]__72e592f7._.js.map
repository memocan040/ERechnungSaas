{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/client.ts"],"sourcesContent":["import { ApiResponse } from '@/types';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001/api';\n\nclass ApiClient {\n  private accessToken: string | null = null;\n  private refreshToken: string | null = null;\n\n  constructor() {\n    if (typeof window !== 'undefined') {\n      this.accessToken = localStorage.getItem('accessToken');\n      this.refreshToken = localStorage.getItem('refreshToken');\n    }\n  }\n\n  setTokens(accessToken: string, refreshToken: string) {\n    this.accessToken = accessToken;\n    this.refreshToken = refreshToken;\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('accessToken', accessToken);\n      localStorage.setItem('refreshToken', refreshToken);\n    }\n  }\n\n  clearTokens() {\n    this.accessToken = null;\n    this.refreshToken = null;\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('refreshToken');\n    }\n  }\n\n  getAccessToken() {\n    return this.accessToken;\n  }\n\n  private async refreshAccessToken(): Promise<boolean> {\n    if (!this.refreshToken) return false;\n\n    try {\n      const response = await fetch(`${API_BASE_URL}/auth/refresh`, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ refreshToken: this.refreshToken }),\n      });\n\n      if (!response.ok) return false;\n\n      const data = await response.json();\n      if (data.success && data.data) {\n        this.setTokens(data.data.accessToken, data.data.refreshToken);\n        return true;\n      }\n      return false;\n    } catch {\n      return false;\n    }\n  }\n\n  async request<T>(\n    endpoint: string,\n    options: RequestInit = {}\n  ): Promise<ApiResponse<T>> {\n    const headers: HeadersInit = {\n      'Content-Type': 'application/json',\n      ...options.headers,\n    };\n\n    if (this.accessToken) {\n      (headers as Record<string, string>)['Authorization'] = `Bearer ${this.accessToken}`;\n    }\n\n    let response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      headers,\n    });\n\n    // Try to refresh token if unauthorized\n    if (response.status === 401 && this.refreshToken) {\n      const refreshed = await this.refreshAccessToken();\n      if (refreshed) {\n        (headers as Record<string, string>)['Authorization'] = `Bearer ${this.accessToken}`;\n        response = await fetch(`${API_BASE_URL}${endpoint}`, {\n          ...options,\n          headers,\n        });\n      } else {\n        this.clearTokens();\n        if (typeof window !== 'undefined') {\n          window.location.href = '/login';\n        }\n      }\n    }\n\n    const data = await response.json();\n    return data;\n  }\n\n  async get<T>(endpoint: string, params?: Record<string, string | number | boolean | undefined>): Promise<ApiResponse<T>> {\n    let url = endpoint;\n    if (params) {\n      const searchParams = new URLSearchParams();\n      Object.entries(params).forEach(([key, value]) => {\n        if (value !== undefined) {\n          searchParams.append(key, String(value));\n        }\n      });\n      const queryString = searchParams.toString();\n      if (queryString) {\n        url += `?${queryString}`;\n      }\n    }\n    return this.request<T>(url, { method: 'GET' });\n  }\n\n  async post<T>(endpoint: string, body?: unknown): Promise<ApiResponse<T>> {\n    return this.request<T>(endpoint, {\n      method: 'POST',\n      body: body ? JSON.stringify(body) : undefined,\n    });\n  }\n\n  async put<T>(endpoint: string, body?: unknown): Promise<ApiResponse<T>> {\n    return this.request<T>(endpoint, {\n      method: 'PUT',\n      body: body ? JSON.stringify(body) : undefined,\n    });\n  }\n\n  async patch<T>(endpoint: string, body?: unknown): Promise<ApiResponse<T>> {\n    return this.request<T>(endpoint, {\n      method: 'PATCH',\n      body: body ? JSON.stringify(body) : undefined,\n    });\n  }\n\n  async delete<T>(endpoint: string): Promise<ApiResponse<T>> {\n    return this.request<T>(endpoint, { method: 'DELETE' });\n  }\n\n  async upload<T>(endpoint: string, formData: FormData): Promise<ApiResponse<T>> {\n    const headers: HeadersInit = {};\n\n    if (this.accessToken) {\n      headers['Authorization'] = `Bearer ${this.accessToken}`;\n    }\n\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'POST',\n      headers,\n      body: formData,\n    });\n\n    return response.json();\n  }\n\n  async downloadBlob(endpoint: string): Promise<Blob> {\n    const headers: HeadersInit = {};\n\n    if (this.accessToken) {\n      headers['Authorization'] = `Bearer ${this.accessToken}`;\n    }\n\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      method: 'GET',\n      headers,\n    });\n\n    if (!response.ok) {\n      throw new Error('Download failed');\n    }\n\n    return response.blob();\n  }\n}\n\nexport const apiClient = new ApiClient();\nexport default apiClient;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/auth.ts"],"sourcesContent":["import { apiClient } from './client';\nimport { User, AuthResponse } from '@/types';\n\nexport const authApi = {\n  async register(email: string, password: string, name: string) {\n    const response = await apiClient.post<AuthResponse>('/auth/register', {\n      email,\n      password,\n      name,\n    });\n\n    if (response.success && response.data) {\n      apiClient.setTokens(response.data.accessToken, response.data.refreshToken);\n    }\n\n    return response;\n  },\n\n  async login(email: string, password: string) {\n    const response = await apiClient.post<AuthResponse>('/auth/login', {\n      email,\n      password,\n    });\n\n    if (response.success && response.data) {\n      apiClient.setTokens(response.data.accessToken, response.data.refreshToken);\n    }\n\n    return response;\n  },\n\n  async logout() {\n    const refreshToken = localStorage.getItem('refreshToken');\n    await apiClient.post('/auth/logout', { refreshToken });\n    apiClient.clearTokens();\n  },\n\n  async getCurrentUser() {\n    return apiClient.get<User>('/auth/me');\n  },\n\n  async changePassword(currentPassword: string, newPassword: string) {\n    return apiClient.post('/auth/change-password', {\n      currentPassword,\n      newPassword,\n    });\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,UAAU;IACrB,MAAM,UAAS,KAAa,EAAE,QAAgB,EAAE,IAAY;QAC1D,MAAM,WAAW,MAAM,wIAAS,CAAC,IAAI,CAAe,kBAAkB;YACpE;YACA;YACA;QACF;QAEA,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;YACrC,wIAAS,CAAC,SAAS,CAAC,SAAS,IAAI,CAAC,WAAW,EAAE,SAAS,IAAI,CAAC,YAAY;QAC3E;QAEA,OAAO;IACT;IAEA,MAAM,OAAM,KAAa,EAAE,QAAgB;QACzC,MAAM,WAAW,MAAM,wIAAS,CAAC,IAAI,CAAe,eAAe;YACjE;YACA;QACF;QAEA,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;YACrC,wIAAS,CAAC,SAAS,CAAC,SAAS,IAAI,CAAC,WAAW,EAAE,SAAS,IAAI,CAAC,YAAY;QAC3E;QAEA,OAAO;IACT;IAEA,MAAM;QACJ,MAAM,eAAe,aAAa,OAAO,CAAC;QAC1C,MAAM,wIAAS,CAAC,IAAI,CAAC,gBAAgB;YAAE;QAAa;QACpD,wIAAS,CAAC,WAAW;IACvB;IAEA,MAAM;QACJ,OAAO,wIAAS,CAAC,GAAG,CAAO;IAC7B;IAEA,MAAM,gBAAe,eAAuB,EAAE,WAAmB;QAC/D,OAAO,wIAAS,CAAC,IAAI,CAAC,yBAAyB;YAC7C;YACA;QACF;IACF;AACF"}},
    {"offset": {"line": 215, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/invoices.ts"],"sourcesContent":["import { apiClient } from './client';\nimport { Invoice, InvoiceItem, InvoiceFilters, ApiResponse } from '@/types';\n\ninterface InvoiceStats {\n  totalRevenue: number;\n  outstandingAmount: number;\n  overdueAmount: number;\n  totalInvoices: number;\n  paidInvoices: number;\n  pendingInvoices: number;\n}\n\ninterface CreateInvoiceData {\n  customerId: string;\n  issueDate: string;\n  dueDate: string;\n  notes?: string;\n  paymentTerms?: string;\n  items: Array<{\n    description: string;\n    quantity: number;\n    unit?: string;\n    unitPrice: number;\n    taxRate?: number;\n  }>;\n}\n\ninterface InvoiceListResponse {\n  invoices: Invoice[];\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    totalPages: number;\n  };\n}\n\nexport const invoicesApi = {\n  async getAll(filters: InvoiceFilters = {}) {\n    const response = await apiClient.get<Invoice[]>('/invoices', filters as Record<string, string | number | boolean | undefined>);\n    return {\n      ...response,\n      pagination: (response as ApiResponse<Invoice[]> & { pagination?: InvoiceListResponse['pagination'] }).pagination,\n    };\n  },\n\n  async getById(id: string) {\n    return apiClient.get<Invoice>(`/invoices/${id}`);\n  },\n\n  async getStats() {\n    return apiClient.get<InvoiceStats>('/invoices/stats');\n  },\n\n  async create(data: CreateInvoiceData) {\n    return apiClient.post<Invoice>('/invoices', data);\n  },\n\n  async update(id: string, data: Partial<CreateInvoiceData>) {\n    return apiClient.put<Invoice>(`/invoices/${id}`, data);\n  },\n\n  async updateStatus(id: string, status: Invoice['status']) {\n    return apiClient.patch<Invoice>(`/invoices/${id}/status`, { status });\n  },\n\n  async delete(id: string) {\n    return apiClient.delete(`/invoices/${id}`);\n  },\n\n  async downloadPdf(id: string, invoiceNumber: string) {\n    const blob = await apiClient.downloadBlob(`/invoices/${id}/pdf`);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${invoiceNumber}.pdf`;\n    a.click();\n    URL.revokeObjectURL(url);\n  },\n\n  async downloadXml(id: string, invoiceNumber: string) {\n    const blob = await apiClient.downloadBlob(`/invoices/${id}/xml`);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `${invoiceNumber}.xml`;\n    a.click();\n    URL.revokeObjectURL(url);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAqCO,MAAM,cAAc;IACzB,MAAM,QAAO,UAA0B,CAAC,CAAC;QACvC,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAY,aAAa;QAC7D,OAAO;YACL,GAAG,QAAQ;YACX,YAAY,AAAC,SAAyF,UAAU;QAClH;IACF;IAEA,MAAM,SAAQ,EAAU;QACtB,OAAO,wIAAS,CAAC,GAAG,CAAU,CAAC,UAAU,EAAE,IAAI;IACjD;IAEA,MAAM;QACJ,OAAO,wIAAS,CAAC,GAAG,CAAe;IACrC;IAEA,MAAM,QAAO,IAAuB;QAClC,OAAO,wIAAS,CAAC,IAAI,CAAU,aAAa;IAC9C;IAEA,MAAM,QAAO,EAAU,EAAE,IAAgC;QACvD,OAAO,wIAAS,CAAC,GAAG,CAAU,CAAC,UAAU,EAAE,IAAI,EAAE;IACnD;IAEA,MAAM,cAAa,EAAU,EAAE,MAAyB;QACtD,OAAO,wIAAS,CAAC,KAAK,CAAU,CAAC,UAAU,EAAE,GAAG,OAAO,CAAC,EAAE;YAAE;QAAO;IACrE;IAEA,MAAM,QAAO,EAAU;QACrB,OAAO,wIAAS,CAAC,MAAM,CAAC,CAAC,UAAU,EAAE,IAAI;IAC3C;IAEA,MAAM,aAAY,EAAU,EAAE,aAAqB;QACjD,MAAM,OAAO,MAAM,wIAAS,CAAC,YAAY,CAAC,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC;QAC/D,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG,GAAG,cAAc,IAAI,CAAC;QACnC,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;IACtB;IAEA,MAAM,aAAY,EAAU,EAAE,aAAqB;QACjD,MAAM,OAAO,MAAM,wIAAS,CAAC,YAAY,CAAC,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC;QAC/D,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG,GAAG,cAAc,IAAI,CAAC;QACnC,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;IACtB;AACF"}},
    {"offset": {"line": 272, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/customers.ts"],"sourcesContent":["import { apiClient } from './client';\nimport { Customer, CustomerFilters, ApiResponse } from '@/types';\n\ninterface CustomerStats {\n  totalInvoices: number;\n  totalRevenue: number;\n  outstandingAmount: number;\n}\n\ninterface CreateCustomerData {\n  companyName: string;\n  contactName?: string;\n  email?: string;\n  phone?: string;\n  street?: string;\n  houseNumber?: string;\n  postalCode?: string;\n  city?: string;\n  country?: string;\n  vatId?: string;\n  customerNumber?: string;\n  notes?: string;\n}\n\nexport const customersApi = {\n  async getAll(filters: CustomerFilters = {}) {\n    const response = await apiClient.get<Customer[]>('/customers', filters as Record<string, string | number | boolean | undefined>);\n    return {\n      ...response,\n      pagination: (response as ApiResponse<Customer[]> & { pagination?: { page: number; limit: number; total: number; totalPages: number } }).pagination,\n    };\n  },\n\n  async getById(id: string) {\n    return apiClient.get<Customer>(`/customers/${id}`);\n  },\n\n  async getStats(id: string) {\n    return apiClient.get<CustomerStats>(`/customers/${id}/stats`);\n  },\n\n  async create(data: CreateCustomerData) {\n    return apiClient.post<Customer>('/customers', data);\n  },\n\n  async update(id: string, data: Partial<CreateCustomerData & { isActive?: boolean }>) {\n    return apiClient.put<Customer>(`/customers/${id}`, data);\n  },\n\n  async delete(id: string) {\n    return apiClient.delete(`/customers/${id}`);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAwBO,MAAM,eAAe;IAC1B,MAAM,QAAO,UAA2B,CAAC,CAAC;QACxC,MAAM,WAAW,MAAM,wIAAS,CAAC,GAAG,CAAa,cAAc;QAC/D,OAAO;YACL,GAAG,QAAQ;YACX,YAAY,AAAC,SAA2H,UAAU;QACpJ;IACF;IAEA,MAAM,SAAQ,EAAU;QACtB,OAAO,wIAAS,CAAC,GAAG,CAAW,CAAC,WAAW,EAAE,IAAI;IACnD;IAEA,MAAM,UAAS,EAAU;QACvB,OAAO,wIAAS,CAAC,GAAG,CAAgB,CAAC,WAAW,EAAE,GAAG,MAAM,CAAC;IAC9D;IAEA,MAAM,QAAO,IAAwB;QACnC,OAAO,wIAAS,CAAC,IAAI,CAAW,cAAc;IAChD;IAEA,MAAM,QAAO,EAAU,EAAE,IAA0D;QACjF,OAAO,wIAAS,CAAC,GAAG,CAAW,CAAC,WAAW,EAAE,IAAI,EAAE;IACrD;IAEA,MAAM,QAAO,EAAU;QACrB,OAAO,wIAAS,CAAC,MAAM,CAAC,CAAC,WAAW,EAAE,IAAI;IAC5C;AACF"}},
    {"offset": {"line": 306, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/company.ts"],"sourcesContent":["import { apiClient } from './client';\nimport { Company } from '@/types';\n\ninterface UpdateCompanyData {\n  name?: string;\n  legalName?: string;\n  street?: string;\n  houseNumber?: string;\n  postalCode?: string;\n  city?: string;\n  country?: string;\n  vatId?: string;\n  taxNumber?: string;\n  tradeRegister?: string;\n  court?: string;\n  managingDirector?: string;\n  phone?: string;\n  email?: string;\n  website?: string;\n  bankName?: string;\n  iban?: string;\n  bic?: string;\n}\n\nexport const companyApi = {\n  async get() {\n    return apiClient.get<Company>('/company');\n  },\n\n  async update(data: UpdateCompanyData) {\n    return apiClient.put<Company>('/company', data);\n  },\n\n  async uploadLogo(file: File) {\n    const formData = new FormData();\n    formData.append('logo', file);\n    return apiClient.upload<Company>('/company/logo', formData);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAwBO,MAAM,aAAa;IACxB,MAAM;QACJ,OAAO,wIAAS,CAAC,GAAG,CAAU;IAChC;IAEA,MAAM,QAAO,IAAuB;QAClC,OAAO,wIAAS,CAAC,GAAG,CAAU,YAAY;IAC5C;IAEA,MAAM,YAAW,IAAU;QACzB,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,OAAO,wIAAS,CAAC,MAAM,CAAU,iBAAiB;IACpD;AACF"}},
    {"offset": {"line": 329, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/reports.ts"],"sourcesContent":["import { apiClient } from './client';\nimport { DashboardStats, MonthlyRevenue, CustomerRevenue, TaxSummary, StatusDistribution, DateRange } from '@/types';\n\nexport const reportsApi = {\n  async getDashboardStats() {\n    return apiClient.get<DashboardStats>('/reports/dashboard');\n  },\n\n  async getRevenueByMonth(dateRange?: DateRange) {\n    return apiClient.get<MonthlyRevenue[]>('/reports/revenue/monthly', dateRange);\n  },\n\n  async getRevenueByCustomer(dateRange?: DateRange, limit = 10) {\n    return apiClient.get<CustomerRevenue[]>('/reports/revenue/customers', { ...dateRange, limit });\n  },\n\n  async getTaxSummary(dateRange?: DateRange) {\n    return apiClient.get<TaxSummary[]>('/reports/tax', dateRange);\n  },\n\n  async getInvoiceStatusSummary(dateRange?: DateRange) {\n    return apiClient.get<StatusDistribution[]>('/reports/invoices/status', dateRange);\n  },\n\n  async exportRevenueCsv(dateRange?: DateRange) {\n    const blob = await apiClient.downloadBlob(`/reports/export/revenue${dateRange ? `?startDate=${dateRange.startDate}&endDate=${dateRange.endDate}` : ''}`);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'umsatz-bericht.csv';\n    a.click();\n    URL.revokeObjectURL(url);\n  },\n\n  async exportCustomersCsv(dateRange?: DateRange) {\n    const blob = await apiClient.downloadBlob(`/reports/export/customers${dateRange ? `?startDate=${dateRange.startDate}&endDate=${dateRange.endDate}` : ''}`);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'kunden-bericht.csv';\n    a.click();\n    URL.revokeObjectURL(url);\n  },\n\n  async exportTaxCsv(dateRange?: DateRange) {\n    const blob = await apiClient.downloadBlob(`/reports/export/tax${dateRange ? `?startDate=${dateRange.startDate}&endDate=${dateRange.endDate}` : ''}`);\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'steuer-bericht.csv';\n    a.click();\n    URL.revokeObjectURL(url);\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,aAAa;IACxB,MAAM;QACJ,OAAO,wIAAS,CAAC,GAAG,CAAiB;IACvC;IAEA,MAAM,mBAAkB,SAAqB;QAC3C,OAAO,wIAAS,CAAC,GAAG,CAAmB,4BAA4B;IACrE;IAEA,MAAM,sBAAqB,SAAqB,EAAE,QAAQ,EAAE;QAC1D,OAAO,wIAAS,CAAC,GAAG,CAAoB,8BAA8B;YAAE,GAAG,SAAS;YAAE;QAAM;IAC9F;IAEA,MAAM,eAAc,SAAqB;QACvC,OAAO,wIAAS,CAAC,GAAG,CAAe,gBAAgB;IACrD;IAEA,MAAM,yBAAwB,SAAqB;QACjD,OAAO,wIAAS,CAAC,GAAG,CAAuB,4BAA4B;IACzE;IAEA,MAAM,kBAAiB,SAAqB;QAC1C,MAAM,OAAO,MAAM,wIAAS,CAAC,YAAY,CAAC,CAAC,uBAAuB,EAAE,YAAY,CAAC,WAAW,EAAE,UAAU,SAAS,CAAC,SAAS,EAAE,UAAU,OAAO,EAAE,GAAG,IAAI;QACvJ,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG;QACb,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;IACtB;IAEA,MAAM,oBAAmB,SAAqB;QAC5C,MAAM,OAAO,MAAM,wIAAS,CAAC,YAAY,CAAC,CAAC,yBAAyB,EAAE,YAAY,CAAC,WAAW,EAAE,UAAU,SAAS,CAAC,SAAS,EAAE,UAAU,OAAO,EAAE,GAAG,IAAI;QACzJ,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG;QACb,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;IACtB;IAEA,MAAM,cAAa,SAAqB;QACtC,MAAM,OAAO,MAAM,wIAAS,CAAC,YAAY,CAAC,CAAC,mBAAmB,EAAE,YAAY,CAAC,WAAW,EAAE,UAAU,SAAS,CAAC,SAAS,EAAE,UAAU,OAAO,EAAE,GAAG,IAAI;QACnJ,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG;QACb,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;IACtB;AACF"}},
    {"offset": {"line": 386, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/settings.ts"],"sourcesContent":["import { apiClient } from './client';\nimport { UserSettings } from '@/types';\n\ninterface UpdateSettingsData {\n  defaultTaxRate?: number;\n  defaultPaymentDays?: number;\n  invoicePrefix?: string;\n  currency?: string;\n  language?: string;\n  emailNotifications?: boolean;\n}\n\nexport const settingsApi = {\n  async get() {\n    return apiClient.get<UserSettings>('/settings');\n  },\n\n  async update(data: UpdateSettingsData) {\n    return apiClient.put<UserSettings>('/settings', data);\n  },\n\n  async getNextInvoiceNumber() {\n    return apiClient.get<{ nextInvoiceNumber: string }>('/settings/next-invoice-number');\n  },\n};\n"],"names":[],"mappings":";;;;AAAA;;AAYO,MAAM,cAAc;IACzB,MAAM;QACJ,OAAO,wIAAS,CAAC,GAAG,CAAe;IACrC;IAEA,MAAM,QAAO,IAAwB;QACnC,OAAO,wIAAS,CAAC,GAAG,CAAe,aAAa;IAClD;IAEA,MAAM;QACJ,OAAO,wIAAS,CAAC,GAAG,CAAgC;IACtD;AACF"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/api/index.ts"],"sourcesContent":["export { apiClient } from './client';\nexport { authApi } from './auth';\nexport { invoicesApi } from './invoices';\nexport { customersApi } from './customers';\nexport { companyApi } from './company';\nexport { reportsApi } from './reports';\nexport { settingsApi } from './settings';\n"],"names":[],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/src/lib/auth-context.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\r\nimport { User, AuthResponse, ApiResponse } from '@/types';\r\nimport { authApi } from '@/lib/api';\r\nimport { apiClient } from '@/lib/api/client';\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    isLoading: boolean;\r\n    isAuthenticated: boolean;\r\n    login: (email: string, password: string) => Promise<ApiResponse<AuthResponse>>;\r\n    register: (email: string, password: string, name: string) => Promise<ApiResponse<AuthResponse>>;\r\n    logout: () => Promise<void>;\r\n    refreshUser: () => Promise<void>;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport function AuthProvider({ children }: { children: React.ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n\r\n    const refreshUser = useCallback(async () => {\r\n        try {\r\n            const token = apiClient.getAccessToken();\r\n            if (!token) {\r\n                setUser(null);\r\n                setIsLoading(false);\r\n                return;\r\n            }\r\n\r\n            const response = await authApi.getCurrentUser();\r\n            if (response.success && response.data) {\r\n                setUser(response.data);\r\n            } else {\r\n                setUser(null);\r\n                apiClient.clearTokens();\r\n            }\r\n        } catch {\r\n            setUser(null);\r\n            apiClient.clearTokens();\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        refreshUser();\r\n    }, [refreshUser]);\r\n\r\n    const login = async (email: string, password: string) => {\r\n        const response = await authApi.login(email, password);\r\n        if (response.success && response.data) {\r\n            setUser(response.data.user);\r\n        }\r\n        return response;\r\n    };\r\n\r\n    const register = async (email: string, password: string, name: string) => {\r\n        const response = await authApi.register(email, password, name);\r\n        if (response.success && response.data) {\r\n            setUser(response.data.user);\r\n        }\r\n        return response;\r\n    };\r\n\r\n    const logout = async () => {\r\n        try {\r\n            await authApi.logout();\r\n        } finally {\r\n            setUser(null);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                user,\r\n                isLoading,\r\n                isAuthenticated: !!user,\r\n                login,\r\n                register,\r\n                logout,\r\n                refreshUser,\r\n            }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AAAA;AACA;AALA;;;;;AAiBA,MAAM,4BAAc,IAAA,sNAAa,EAA8B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAAiC;IACpE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAE3C,MAAM,cAAc,IAAA,oNAAW,EAAC;QAC5B,IAAI;YACA,MAAM,QAAQ,wIAAS,CAAC,cAAc;YACtC,IAAI,CAAC,OAAO;gBACR,QAAQ;gBACR,aAAa;gBACb;YACJ;YAEA,MAAM,WAAW,MAAM,oIAAO,CAAC,cAAc;YAC7C,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;gBACnC,QAAQ,SAAS,IAAI;YACzB,OAAO;gBACH,QAAQ;gBACR,wIAAS,CAAC,WAAW;YACzB;QACJ,EAAE,OAAM;YACJ,QAAQ;YACR,wIAAS,CAAC,WAAW;QACzB,SAAU;YACN,aAAa;QACjB;IACJ,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACN;IACJ,GAAG;QAAC;KAAY;IAEhB,MAAM,QAAQ,OAAO,OAAe;QAChC,MAAM,WAAW,MAAM,oIAAO,CAAC,KAAK,CAAC,OAAO;QAC5C,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;YACnC,QAAQ,SAAS,IAAI,CAAC,IAAI;QAC9B;QACA,OAAO;IACX;IAEA,MAAM,WAAW,OAAO,OAAe,UAAkB;QACrD,MAAM,WAAW,MAAM,oIAAO,CAAC,QAAQ,CAAC,OAAO,UAAU;QACzD,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,EAAE;YACnC,QAAQ,SAAS,IAAI,CAAC,IAAI;QAC9B;QACA,OAAO;IACX;IAEA,MAAM,SAAS;QACX,IAAI;YACA,MAAM,oIAAO,CAAC,MAAM;QACxB,SAAU;YACN,QAAQ;QACZ;IACJ;IAEA,qBACI,8OAAC,YAAY,QAAQ;QACjB,OAAO;YACH;YACA;YACA,iBAAiB,CAAC,CAAC;YACnB;YACA;YACA;YACA;QACJ;kBAEC;;;;;;AAGb;AAEO,SAAS;IACZ,MAAM,UAAU,IAAA,mNAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACvB,MAAM,IAAI,MAAM;IACpB;IACA,OAAO;AACX"}},
    {"offset": {"line": 522, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 541, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 546, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/mehme/Documents/Repos/ERechnung/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}